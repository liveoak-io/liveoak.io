== Configuring Scripts

From within the console, when you create or go to edit a script, you will be presented with a form to configure your script.

image::scripting/new_script.png[Console Script Configuration, 90%, align="center"]


The various settings for script configuration are:

Script ID::
The indentifier for this script. This values can only be set on script creation

Resource Path::
The path we should should target our script against. See the <<Resource Paths>> section for more information.

Priority::
Sets the priority for running this script when multiple scripts are configured to be triggered against the same resource path. The higher the priority, the sooner the script will be run.

Enable Script::
If the script should be currently enabled or not

Script Name::
An optional, user friendly name for the script.

Description::
An optional description to be used for the script.

=== Resource Paths
The resource path for your script determines what resources should trigger the script. You can use the resource path to target one particular resource, all the children of a particular resource, all the descendants of a particular resource, or a combination of these options. 

You can only specify one resource path per script. You will need to create multiple scripts if you need the same script to be run against multiple targets.

.Example Resource Paths
[align="center",cols="1,^2",options="header",valign="top"]
|===================================
|Resource Path | Resource Target

|/test/storage/dogs/fido | Targets just the 'fido' resource

|/test/storage/dogs/* | Targets any resource in the 'dogs' collection

|/test/storage/dogs* | Targets any resource in the 'dogs' collection as well as any direct access to the 'dogs' resource itself. This is equivalent to having two resource paths which point to '/test/storage/dog' and '/test/storage/dog/*'

|/test/storage/* | Targets all resources in the storage collection. But does not target any descendants of those resources. This means that '/test/storage/dogs' will trigger the script, but '/test/storage/dogs/fido' will not.

|/test/storage/** | Targets all resource in the storage collection and all their descendants. This means that '/test/storage/dogs' will trigger the script, as well as '/test/storage/dogs/fido' and such things as '/test/storage/dogs/fido/owner'

|/test/storage* | This is equivalent to having two resource paths which point to '/test/storage/*' and '/test/storage'

|/test/storage** | This is equivalent to having two resource paths which point to '/test/storage/**' and '/test/storage'

|===================================  

=== The Script

What functions your script contains will determine what actions will trigger the script into being run. 

For example, if your *Resource Path* is _/test/storage/dogs/fido_ and your script contains a *preUpdate(link:/docs/reference/scripting/javascript/out/Request.html[request])* function, then this function will be called whenever an update is about to be performed on the _/test/storage/dogs/fido_ resource. 

Similarily, if you also had a *postUpdate(link:/docs/reference/scripting/javascript/out/Response.html[response])* function, then this function would be called after the update had occured.

You can have multiple script functions defined in your script, and each will be run based on the appropriate action.

==== Script Functions

.Script Functions
[width="90%", align="center", cols="1,^2", options="header", valign="top"]
|===================================
|Type | Must Contain Function
|pre-create | function preCreate(link:/docs/reference/scripting/javascript/out/Request.html[request]) {...}

|post-create | function postCreate(link:/docs/reference/scripting/javascript/out/Response.html[response]) {...}

|pre-read | function preRead(link:/docs/reference/scripting/javascript/out/Request.html[request]) {...}

|post-read | function postRead(link:/docs/reference/scripting/javascript/out/Response.html[response]) {...}

|pre-update | function preUpdate(link:/docs/reference/scripting/javascript/out/Request.html[request]) {...}

|post-update | function postUpdate(link:/docs/reference/scripting/javascript/out/Response.html[response]) {...}

|pre-delete | function preDelete(link:/docs/reference/scripting/javascript/out/Request.html[request]) {...}

|post-delete | function postDelete(link:/docs/reference/scripting/javascript/out/Response.html[response]) {...}

|on-error | function onError(link:/docs/reference/scripting/javascript/out/Response.html[response]) {...}
|===================================

=== JavaScript API

The API for dealing with javascript object can be found link:/docs/reference/scripting/javascript/out/index.html[here]
